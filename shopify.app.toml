# Learn more about configuring your app at https://shopify.dev/docs/apps/tools/cli/configuration

client_id = "26148cb757de13a36a3fdba09c94034b"
name = "SmartCartify Test App"
application_url = "https://shopify-fomo-app.vercel.app/app"
embedded = true
handle = "smartCartify-test-app"

[build]
automatically_update_urls_on_dev = true

[webhooks]
# Match this with your code. Your code uses ApiVersion.January25 → "2025-01"
api_version = "2025-01"

  # --- App lifecycle topics (already present) ---
  [[webhooks.subscriptions]]
  topics = ["app/uninstalled"]
  uri = "/webhooks/app/uninstalled"

  [[webhooks.subscriptions]]
  topics = ["app/scopes_update"]
  uri = "/webhooks/app/scopes_update"

  # --- ✅ GDPR / Compliance (required for App Store) ---
  # One declaration covering all 3 compliance topics
  [[webhooks.subscriptions]]
  compliance_topics = ["customers/data_request", "customers/redact", "shop/redact"]
  # Route can be anything under /webhooks/... because your Remix route is webhooks.$.jsx
  uri = "/webhooks/gdpr"

[access_scopes]
scopes = "read_products,write_products,read_themes,write_themes,write_orders,read_orders,read_customers,write_customers"

[auth]
redirect_urls = [
  "https://shopify-fomo-app.vercel.app/auth/callback",
  "https://shopify-fomo-app.vercel.app/auth/shopify/callback",
  "https://shopify-fomo-app.vercel.app/api/auth/callback"
]

[app_proxy]
url = "https://shopify-fomo-app-test.vercel.app/proxy/fomo"
subpath = "fomo"
prefix = "apps"

[pos]
embedded = true
