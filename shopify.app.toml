# Learn more about configuring your app at https://shopify.dev/docs/apps/tools/cli/configuration

client_id = "fe498ceb049ee2edc48f609a10869a64"
name = "Fomoify Popup Test"
application_url = "https://fomo-apps-lyart.vercel.app/"
embedded = true
handle = "fomoify-popup-test"

[build]
automatically_update_urls_on_dev = true

[webhooks]
# Match this with your code. Your code uses ApiVersion.January25 → "2025-01"
api_version = "2025-01"

  # --- App lifecycle topics (already present) ---
  [[webhooks.subscriptions]]
  topics = ["app/uninstalled"]
  uri = "/webhooks/app/uninstalled"

  [[webhooks.subscriptions]]
  topics = ["app/scopes_update"]
  uri = "/webhooks/app/scopes_update"

  # --- ✅ GDPR / Compliance (required for App Store) ---
  # One declaration covering all 3 compliance topics
  [[webhooks.subscriptions]]
  compliance_topics = ["customers/data_request", "customers/redact", "shop/redact"]
  # Route can be anything under /webhooks/... because your Remix route is webhooks.$.jsx
  uri = "/webhooks/gdpr"

[access_scopes]
scopes = "read_products,write_products,read_themes,write_themes,write_orders,read_orders,read_customers,write_customers"

[auth]
redirect_urls = [
  "https://fomo-apps-lyart.vercel.app/auth/callback",
  "https://fomo-apps-lyart.vercel.app/shopify/callback",
  "https://fomo-apps-lyart.vercel.app/api/auth/callback"
]

[app_proxy]
url = "https://fomo-apps-lyart.vercel.app/proxy/fomos"
subpath = "fomo-v2"
prefix = "apps"

[pos]
embedded = true
