generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider          = "mysql"
  url               = env("DATABASE_URL")
}

model Session {
  id            String   @id @db.VarChar(255)
  shop          String   @db.VarChar(255)
  state         String   @db.VarChar(255)
  isOnline      Boolean  @default(false)
  scope         String?  @db.Text
  expires       DateTime?
  accessToken   String   @db.Text
  userId        BigInt?
  firstName     String?  @db.VarChar(191)
  lastName      String?  @db.VarChar(191)
  email         String?  @db.VarChar(320)
  accountOwner  Boolean  @default(false)
  locale        String?  @db.VarChar(20)
  collaborator  Boolean? @default(false)
  emailVerified Boolean? @default(false)

  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@map("Session")
}

model Shop {
  id          Int      @id @default(autoincrement())
  shop        String   @unique
  accessToken String?
  installed   Boolean  @default(true)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}


model NotificationConfig {
  id                 Int      @id @default(autoincrement())
  shop               String
  key                String
  enabled            Boolean
  showType           String
  messageTitle       String?
  messageText        String?
  fontFamily         String
  position           String
  animation          String
  mobileSize         String
  mobilePositionJson Json?
  titleColor         String
  bgColor            String
  msgColor           String
  rounded            Int
  name               String?
  durationSeconds    Int

  @@unique([shop, key], name: "shop_key")
}